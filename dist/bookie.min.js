!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.bookie=e.bookie||{})}(this,function(e){"use strict";function t(e,t,n){if(null!=e&&e[t]===n)return e;var r={};if(null!=e)for(var i in e)r[i]=e[i];return r[t]=n,Object.freeze(r)}function n(e,r){function i(n){return r(function(r,i){var o=null==r?null:r[e];return t(r,e,n(o,i))})}return Object.freeze({createAction:i,createRegister:function(e){return n(e,i)}})}function r(e){function r(e){return function(t){if(u)throw new Error("Overlapping action dispatch!");u=!0;var n=e(o,t);if(n!==o){o=Object.freeze(n);for(var r=0;r<i.length;r++)i[r](o)}u=!1}}var i=[],o=Object.freeze(e),u=!1;return Object.freeze({createAction:r,createRegister:function(e,i){return o=t(o,e,i),n(e,r)},getState:function(){return o},subscribe:function(e){var t=i.length,n=!0;return i.push(e),function(){if(n){n=!1;for(var r=t;r>=0;r--)if(i[r]===e)return void i.splice(r,1)}}}})}e.createStore=r,Object.defineProperty(e,"__esModule",{value:!0})});